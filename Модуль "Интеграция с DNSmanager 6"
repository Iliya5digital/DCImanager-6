Для работы некоторых интернет-сервисов (например, отправки электронной почты) необходимо преобразование IP-адресов серверов в доменные имена. Чтобы это преобразование выполнялось, нужно настроить интеграцию платформы c DNS-сервером.

Платформа поддерживает интеграцию с панелью управления DNSmanager 6. DNSmanager 6 использует встроенный DNS-сервер PowerDNS. После интеграции на DNS-сервере будут созданы PTR-записи, преобразующие IP-адреса серверов в доменные имена.


Если в платформе был установлен модуль "Интеграция с PowerDNS", он будет удалён после настройки интеграции с DNSmanager 6.

Соответствие IP-адреса и обратного доменного имениLink to Соответствие IP-адреса и обратного доменного имени
Для определения доменного имени по IP-адресу на DNS-сервере используется PTR-запись обратной доменной зоны. Для выполнения запроса адрес узла переводится в обратный вид, способ перевода зависит от версии протокола IP.

IPv4
IPv4-адрес записывается в виде четырёх десятичных чисел от 0 до 255, разделённых точками. Например, 192.168.0.1. Для поиска доменных имён по IPv4-адресам используется домен "in-addr.arpa.". IP-адрес записывается в доменном имени в обратном порядке. Например, адресу 195.161.72.28 соответствует доменное имя "28.72.161.195.in-addr.arpa.".

IPv6
IPv6-адрес записывается в виде восьми шестнадцатеричных чисел от 0 до ffff, разделённых двоеточиями. Например, 3107:0c38:0a67:0000:0000:e446:3925:0091. Для поиска доменных имён по IPv6-адресам используется домен "ip6.arpa.". IP-адрес записывается в доменном имени в обратном порядке. Например, адресу 3107:0c38:0a67:0000:0000:e446:3925:0091 соответствует доменное имя "1.9.0.0.5.2.9.3.6.4.4.e.0.0.0.0.0.0.0.0.7.6.a.0.8.3.c.0.7.0.1.3.ip6.arpa.".

Настройка интеграцииLink to Настройка интеграции

В процессе интеграции модуль IPmanager 6 создаст в DNSmanager 6 необходимые зоны и NS-записи. Этот шаг может занять значительное время.

На сервере с DNSmanager 6:
При необходимости обновите панель управления до версии не ниже 6.1.0.
Создайте пользователя для интеграции с уровнем доступа Пользователь или Реселлер.
На сервере с платформой:
Установите модуль "Интеграция с DNSmanager 6":  в правом меню нажмите значок → раздел Модули → модуль Интеграция с DNSmanager 6 → кнопка Установить.
Настройте модуль:

Нажмите кнопку Настроить.

Укажите настройки подключения к DNSmanager 6:

Адрес сервера.

Имя пользователя.

Пароль.
Нажмите кнопку Применить.

Если у вас настроена интеграция с другими платформами через модуль "Интеграция с IPmanager 6", установите в этих платформах модуль "Интеграция с DNSmanager 6" с аналогичными настройками.
ДиагностикаLink to Диагностика
Интеграцию с DNSmanager 6 выполняет сервис DNSProxy. Лог-файлы сервиса находятся в докер-контейнере:

на сервере с DCImanager 6 — dci_dns_proxy_1;
на сервере с VMmanager — vm_dns_proxy_1.
Перечень лог-файлов сервиса:

/var/log/dns_proxy_integration.log

/var/log/dns_proxy_service_1_reader.log

/var/log/dns_proxy_service_1_writer.log
