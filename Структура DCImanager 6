Архитектура DCImanager 6 построена с использованием Docker (докер). Технология Docker позволяет создавать и управлять контейнерами. Докер-контейнер (docker container) — изолированная среда, в которой запущено приложение. Для управления всеми докер-контейнерами в DCImanager 6 используется сервис docker-compose. В файле /opt/ispsystem/dci/docker-compose.yaml настроено необходимое окружение.

Контейнеры DCImanager 6Link to Контейнеры DCImanager 6
На сервере с DCImanager 6 запускаются докер-контейнеры: 

dci_dci_front_1 — основной контейнер фронтенда платформы;
dci_back — основной контейнер бэкенда платформы;
dci_eservice_1 — HTTP-сервис работы с оборудованием;
dci_ipmgr_1 — сервис управления IP-адресами;
dci_metric_collector_1 — сервис сбора метрик;
dci_journal_1 — сервис журналирования;
dci_ipmi_proxy_v2_client_1 — клиентская часть модуля проксирования BMC;
dci_plugin_1 — контейнер для работы с плагинами;
dci_msgsender_1 — сервис отправки email пользователям;
dci_updater_1 — сервис обновления DCImanager 6;
dci_notifier_1 — сервис отслеживания событий и отправки уведомлений;
dci_batch_1 — сервис выполнения последовательности запросов;
dci_validator_1 — сервис проверки содержимого POST-запроса;
dci_consumer_1 — сервис управления оборудованием;
dci_auth_back_1, dci_auth_back4_1 — сервисы регистрации и авторизации пользователей на стороне бэкенда;
dci_auth_front_1 — сервис регистрации и авторизации пользователей на стороне фронтенда;
dci_input_1 — сервер nginx для обработки запросов;
dci_registrator_1 — сервис регистрации новых контейнеров для nginx;
dci_dns_proxy_1 — контейнер для работы с модулем "Интеграции с DNSmanager 6";
dci_loki_1 — сервис сбора лог-файлов;
dci_eservice_msg_queue_1 — очередь сообщений для сервиса работы с оборудованием;
dci_grafana_1 — система визуализации данных статистики;
mysql — контейнер для работы СУБД MySQL;
dci_consul_1 — контейнер для работы с системой обнаружения сервисов Consul. Подробнее o Consul см. вофициальной документации;
dci_dci_backup_1 — сервис резервного копирования платформы;
dci_ldap_1 — контейнер для синхронизации с каталогом LDAP;

dci_dci_alert_wrapper_1 — сервис слежения за уведомлениями;

dci_notice-center_1 — сервис отправки уведомлений в интерфейс платформы;

alert — сервис настройки уведомлений в платформе.

carbon_clickhouse — агрегатор данных статистики;
clickhouse_server — сервис хранения статистики — база данных Clickhouse;
graphite_clickhouse — сервис преобразования данных статистики в формат graphite;
graphite_carbonapi — API-сервис для передачи метрик в Grafana и интерфейс платформы;
swagger — сервис интерактивной оболочки Swagger;
dci_taskmgr_1 — сервис менеджера задач;
dci_search_1 — сервис глобального поиска;
dci_report_1 — сервис формирования отчётов;
migrator — сервис миграции с DCImanager 5
На сервере-локации запускаются докер-контейнеры:

ipmi_proxy_v2_server — серверная часть модуля проксирования BMC;
eservice_handler — сервис с обработчиками оборудования;
lweb — HTTP-сервер;
tftpd — TFTP-сервер;
smbd — SMB-сервер;
redis — база данных и система уведомлений;
nfsd — NFS-сервер;
kea_dhcp — DHCP-сервер.


Схема работы продуктаLink to Схема работы продукта

Как работать с контейнерамиLink to Как работать с контейнерами
Для просмотра списка запущенных контейнеров подключитесь к серверу с DCImanager 6 по SSH и введите:

docker ps
Чтобы перейти в контейнер, введите: 

docker exec -it container_name sh

 Пояснения к команде
container_name — имя контейнера.
