Для установки операционных систем (ОС) DCImanager 6 использует шаблоны ОС. Шаблоны ОС в DCImanager 6 — наборы образов диска и скриптов установки. После установки из шаблона вы получите ОС без дополнительного программного обеспечения и специальных настроек ("чистая" ОС).

Чтобы ОС была доступна для установки на сервер, на локацию должен быть загружен соответствующий шаблон из репозитория ISPsystem.

В текущей версии доступны ОС:

AlmaLinux 8, 9;
CentOS 6, 7, 8;
CentOS Stream 8, 9;
Debian 8, 9, 10, 11, 12;
Fedora 32;
FreeBSD 11, 12, 13;
Ubuntu 16.04, 18.04, 20.04, 22.04;
VMware ESXi 6 (гипервизор);
Windows 10;
Windows Server 2012 R2, 2016, 2019, 2022.
Максимальное время, выделяемое на установку ОС Windows — 200 минут, для остальных ОС — 140 минут. Если в течение этого времени ОС не будет установлена, DCImanager 6 принудительно завершит операцию установки.


Обратите внимание!

Рекомендуемый объём оперативной памяти на сервере для установки ОС Linux — 8 Гб, и для установки ОС Windows — от 8 Гб.


Обратите внимание!

В некоторых случаях для успешной установки ОС Windows может потребоваться использование утилиты WinNtSetup. Чтобы использовать утилиту при установке ОС, добавьте макрос $WINNTSETUP со значением "yes" в настройки шаблона ОС. Подробнее о настройках шаблона см. в статье Управление шаблонами.


Обратите внимание!

Перед установкой ОС убедитесь, что на сервере включена загрузка:

для ОС Windows — с iPXE;
для остальных ОС — c PXE или iPXE.
Подробнее см.

Как изменить способ загрузки сервера?
Как включить загрузку сервера через PXE/iPXE?
Установка ОС из шаблонаLink to Установка ОС из шаблона
Чтобы установить ОС на сервер:

Перейдите в Серверы → меню  → Установить ОС из шаблона.
Выберите Операционную систему.
Выберите один из доступных вариантов Приложений и скриптов. Вы можете предварительно создать свой скрипт или выбрать скрипты, доступные из репозитория ISPsystem. Подробнее см. Скрипты.

Выберите Режим загрузки сервера:
Заданный шаблоном — рекомендуется, если сервер поддерживают и PXE, и iPXE. Опция доступна не для всех шаблонов;
PXE;
iPXE.
Нажмите Далее.
Выберите способ Разметки накопителей:

 Автоматически
автоматически:
Выберите Программный RAID. DCImanager 6 автоматически определяет RAID, доступные для установки. Подробнее см. в Программные RAID-массивы.

При автоматической разметке доступное дисковое пространство будет поделено на разделы с учётом выбранного RAID-массива.


Обратите внимание!

Если на сервере установлен аппаратный RAID, при настройке программного RAID возможны ошибки и снижение скорости в работе накопителей.

 Вручную
вручную:
Выберите один или несколько накопителей одинакового типа и размера для установки ОС.
При выборе нескольких накопителей DCImanager 6 объединит их в RAID-массив. В зависимости от количества выбранных накопителей будут доступны уровни программного RAID. Выберите нужный вариант.


Обратите внимание!

При наличии аппаратного RAID при разметке вручную выбор программного RAID недоступен.

Разметьте вручную доступный дисковый объём, который будет меняться в зависимости от выбранного уровня RAID. По умолчанию DCImanager 6 создаёт три раздела: swap, /boot и /. Вы можете менять размер этих разделов и файловую систему. Для swap и /boot установлены минимальные рекомендуемые значения, не рекомендуем уменьшать их.
Для создания ещё одного раздела нажмите Добавить раздел. Введите название раздела, установите размер и выберите файловую систему. Если нужно вернуться к значениям, заданным DCImanager 6, нажмите Установить значения по умолчанию.

Обратите внимание!

Разметка накопителей недоступна для ОС Windows и при установке ОС из ISO-образа.

Нажмите Далее.
Укажите в поле Имя хоста доменное имя для доступа к серверу. Если параметр не указывать, то:
для ОС семейства Unix будет использоваться доменное имя localhost;
для OC Windows доменное имя будет сформировано автоматически.
Укажите Пароль администратора сервера.
Укажите SSH-ключ для доступа к серверу. Вы можете выбрать ключ Из личного кабинета или Добавить новый. Чтобы добавить новый SSH-ключ:

Укажите его Название в DCImanager 6.

Скопируйте содержимое публичного ключа в поле SSH-key.

Нажмите Добавить.
Нажмите Установить. DCImanager 6 запустит процесс в фоновом режиме. Состояние сервера будет изменено на "Установка ОС".

Групповая установка ОС из шаблонаLink to Групповая установка ОС из шаблона
Чтобы установить ОС одновременно на нескольких серверах:

Перейдите в Серверы → в правом столбце таблицы отметьте нужные серверы → в нижней строке таблицы выберите Установить ОС.
Укажите параметры установки:

Выберите операционную систему.

Выберите один из доступных вариантов Приложений и скриптов.
Выберите Режим загрузки серверов:

Заданный на серверах — рекомендуется, если на серверах разные режимы загрузки;

Заданный шаблоном — рекомендуется, если все серверы поддерживают и PXE, и iPXE. Опция доступна не для всех шаблонов;

PXE;

iPXE.

Нажмите Далее.

Выберите способ задания Доменных имён:
Использовать указанные на серверах;
Задать вручную — введите доменное имя для каждого сервера.
Если параметр не указывать, то:
для ОС семейства Unix будет использоваться доменное имя localhost;
для OC Windows доменное имя будет сформировано автоматически.
Выберите способ указания Паролей:
Указать общий пароль — использовать одинаковые пароли на всех серверах;
Задать вручную — использовать уникальные пароли.
Введите или сгенерируйте пароли.
Укажите SSH-ключ для доступа к серверу. Вы можете выбрать ключ Из личного кабинета или Добавить новый. Чтобы добавить новый SSH-ключ:

Укажите его Название в DCImanager 6.

Скопируйте содержимое публичного ключа в поле SSH-key.

Нажмите Добавить.
Нажмите Установить ОС.
Монтирование ISO-образовLink to Монтирование ISO-образов

Обратите внимание!

Функция поддерживается только для лицензий DCImanager 6 Infrastructure и серверов с BMC Redfish.

Если настройки локации не поддерживают выполнение операций через PXE, вы можете установить ОС на сервер через монтирование ISO-образа. Для этого:

Загрузите ISO-образ на локацию. Подробнее см. в статье ISO-образы.
Примонтируйте ISO-образ к серверу: Серверы → выберите сервер → меню  → Монтировать ISO-образ → выберите образ → Монтировать. Статус сервера изменится на Примонтирован ISO-образ.
Вы можете примонтировать ISO-образ одновременно к нескольким серверам. Подробнее см. в статье Групповые операции.

Подключитесь к BMC сервера и установите ОС из подключённого образа.
После установки ОС нажмите Размонтировать в столбце Статус сервера.
